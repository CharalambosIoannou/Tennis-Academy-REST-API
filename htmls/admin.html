<!DOCTYPE html>
<html lang="en">
<head>
  <username>LearnTennis</username>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="css/bootstrap.css" rel="stylesheet" />
  <link href="css/bootstrap-theme.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <script type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
  
</head>


<body data-spy="scroll" data-target=".navbar" data-offset="50" background="images/background.jpg" >
    <!-- Navigation bar code-->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">  
        <a class="navbar-brand" href="index.html">Tennis Academy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="#section1">List Users </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#section2">Find User</a>
            </li>           
            <li class="nav-item">
                    <a class="nav-link" href="#section3">Create Timetable</a>
                  </li>     
              <li class="nav-item">
                <a class="nav-link" href="#section4">Add User </a>
              </li>

          </ul>
        </div>    
      </nav>



      <div id="section1">
        <br>
        <br>
        <br>
        <br>
        <div class="container">
            <div class="card bg-light text-dark">
              <div class="card-body">
                <h1>List User</h1>
                <button id="Button2">Click Me</button>
                <div id="showDIV">
                <table class="flexme" id="table" border="1">
                    <thead>
                      <tr>
                        <th width="100">Username</th>
                        <th width="100">Forename</th>
                        <th width="100">Surname</th>
                        <th width="100">Age</th>
                        <th width="140">Email</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr id="test">
                        <td></td>
                      </tr>
                    </tbody>
                </table>
              </div>
            </div>
          </div>
      </div>
      <script>
            $(document).ready(function () {
            $('#showDIV').hide()
            $('#Button2').click(function () {
                $("#showDIV").fadeToggle('fast');
            });
            });
        $.getJSON( "http://127.0.0.1:3000/people", function( data ) {
        var table = $("#table tbody");
        $.each( JSON.parse(data), function( key, val ) {
          table.append("<tr><td>" + val.username + "</td><td>"
                        + val.forename + "</td><td>" 
                        + val.surname + "</td><td>"
                        + val.age + "</td><td>" 
                        + val.email + "</td></td>" );
  })});
          
      </script>
 

      
    <div id="section2" >  
        <br>
        <br>
        <br>
        <br>
        <div class="container">
                <div class="card bg-light text-dark">
                  <div class="card-body">
                    <h1>Find User</h1>
                    <form id="usernameform">
                      <div> Username: <input id="username"> </input> </div>
                      <button id="Button">Click Me to Submit</button>                      
                  </form>
                  <button id="ButtonHide">Click Me to Show/Hide</button>
                  <form>
                  <div id="showDIV1">
                  <table class="flexme" id="table1" border="1">
                      <thead>
                        <tr>
                          <th width="100">Username</th>
                          <th width="100">Forename</th>
                          <th width="100">Surname</th>
                          <th width="100">Age</th>
                          <th width="140">Email</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr id="test1">
                          <td></td>
                        </tr>
                      </tbody>
                      </table>
                    </div></form>
              </div>
                  <script>
                    $(document).ready(function () {
            $('#showDIV1').hide()
            $('#ButtonHide').click(function () {
                $("#showDIV1").fadeToggle('fast');
            });
            });
                          function formhandler(){
                              var username = $("#username").val();
                              $.get("http://127.0.0.1:3000/people/"  +username, 
                                  function (data){
                                    var table1 = $("#table1 tbody");
                                    table1.append("<tr><td>" + data.username + "</td><td>"
                                          + data.forename + "</td><td>" 
                                          + data.surname + "</td><td>"
                                          + data.age + "</td><td>" 
                                          + data.email + "</td></td>" );            
                                            });
                              return false;
                          };
                          $('#usernameform').on('submit', formhandler);
                      
                      </script>
                </div>
                </div>
           
    </div>
    <div id="section2" >  
        <br>
        <br>
        <br>
        <br>
        <div class="container">
            <div class="card bg-light text-dark">
              <div class="card-body">
                <h1>Add User</h1>
                <form id="usernameform1">
                  <div> Username: <input id="username1"> </input> </div>
                  <div> Firstname: <input id="forename"> </input> </div>
                  <div> Lastname: <input id="surname"> </input> </div>
                  <div> age: <input id="age"> </input> </div>
                  <div> email: <input id="email"> </input> </div>
                  <button id="submit">Click Me to Submit</button>                      
          
              </form>
          
              <div id ="usernameresult1"></div>

              <script>
                

                  function formhandler1(){
                      $.post("http://127.0.0.1:3000/people" ,{
                          
                          username : $("#username1").val(),
                          forename : $("#forename").val(),
                          surname : $("#surname").val(),
                          age : $("#age").val(),
                          email : $("#email").val(),
                          access_token : "concertina"         
      
      
                      } ,
                          function (data){
                            
                              $('#usernameresult1').html(data);
                          });
                          
                      return false;
                  };
                  $('#usernameform1').on('submit', formhandler1);
              
              </script>

    </div>
    </body>

    </html>